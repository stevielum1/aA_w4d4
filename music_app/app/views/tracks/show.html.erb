<%= render 'shared/errors' %>

<h1>Track: <%= @track.title %></h1>
<h2>Album: <a href="<%= album_url(@track.album_id) %>"><%= @track.album.title %></a></h2>
<h2>Track Number: <%= @track.ord %></h2>
<h2>Type: <%= @track.bonus ? "Bonus" : "Regular" %></h2>
<h3>Lyrics: <%= @track.lyrics.empty? ? "Not provided" : ugly_lyrics(@track.lyrics) %></h3>

<button>
  <a href="<%= edit_track_url(@track) %>">Edit track</a>
</button>

<form id="delete_track_form" action="<%= track_url(@track) %>" method="post">
  <input type="hidden" name="_method" value="delete">
  <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
</form>
<button type="submit" form="delete_track_form" name="button">Delete track</button>

<br>
<br>

<table>
  <tr>
    <th>Notes</th>
    <th>Author</th>
    <th>Delete?</th>
  </tr>
  <% @track.notes.each_with_index do |note, idx| %>
    <%= render 'notes/note', note: note, idx: idx%>
  <% end %>
</table>
<br>


<%= render 'notes/form', track: @track %>

<% content_for :footer do %>
  Track show page
<% end %>
